set ssl_starttls=no
set ssl_force_tls=no

set imap_passive
set imap_check_subscribed

set mail_check=60
set net_inc=5

set abort_nosubject=yes

set editor="$EDITOR"

set include=ask-yes
set postpone=ask-yes
set print=ask-yes

auto_view text/html
alternative_order text/plain text/enriched text/html

set record="+Sent"
set postponed="+Drafts"
# unset record 

#mailboxes +INBOX \
#          +Sent \
#          +Drafts

set sidebar_visible = yes
set sidebar_width   = 38

# TODO
# set signature        = ~/.mutt/sig          

#set mbox_type = Maildir  

set timeout = 3          

unset move              
unset mark_old           

set beep_new            

set pipe_decode         

set thorough_search    

set status_chars  = " *%A"
set status_format = "───[ Folder: %f ]───[%r%m messages%?n? (%n new)?%?d? (%d to delete)?%?t? (%t tagged)? ]───%>─%?p?( %p postponed )?───"

ignore *
unignore from: to: cc: date: subject:
unhdr_order *
hdr_order from: to: cc: date: subject:

set date_format = "%m/%d"
set index_format = "[%Z]  %D  %-20.20F  %s"
set sort = threads                         
set sort_aux = last-date-received          
set uncollapse_jump                       
set sort_re                               
set reply_regexp = "^(([Rr][Ee]?(\[[0-9]+\])?: *)?(\[[^]]+\] *)?)*"

bind index gg       first-entry
bind index G        last-entry

bind index R        group-reply
bind index <tab>    sync-mailbox
bind index <space>  collapse-thread

macro index \Cr "T~U<enter><tag-prefix><clear-flag>N<untag-pattern>.<enter>" "mark all messages as read"

macro index C "<copy-message>?<toggle-mailboxes>" "copy a message to a mailbox"
macro index M "<save-message>?<toggle-mailboxes>" "move a message to a mailbox"

set pager_index_lines = 10 
set pager_context = 3      
set menu_scroll            
set tilde                  
unset markers             

set quote_regexp = "^( {0,4}[>|:#%]| {0,4}[a-z0-9]+[>|]+)+"
alternative_order text/plain text/enriched text/html

bind pager k  previous-line
bind pager j  next-line
bind pager gg top
bind pager G  bottom

bind pager R  group-reply

bind attach <return> view-mailcap

set envelope_from
set sig_dashes                       
set edit_headers                     
set fast_reply                      
set askcc                            
set fcc_attach                       
unset mime_forward                   
set forward_format = "Fwd: %s"       
set forward_decode                   
set attribution = "On %d, %n wrote:" 
set reply_to                         
set reverse_name                    
set include                          
set forward_quote                    
set editor = "vim"                   

bind compose p postpone-message
bind index p recall-message

set query_command="abook --mutt-query '%s'"
macro index,pager A "|abook --add-email-quiet\n" 'add sender to abook'
bind editor <tab> complete-query

bind index N search-opposite
bind pager N search-opposite
macro index a "<limit>all\n" "show all messages (undo limit)"

